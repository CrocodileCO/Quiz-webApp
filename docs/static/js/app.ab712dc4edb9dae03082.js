webpackJsonp([1],{0:function(t,e){},"2uFj":function(t,e){t.exports={api:{uri:"https://eggdance.herokuapp.com/api/"}}},NHnr:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("7+uW"),s={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"container"},[e("div",{attrs:{id:"page"}},[e("transition",{attrs:{name:"fade"}},[e("router-view")],1)],1)])},staticRenderFns:[]},o=i("VU/8")({name:"App"},s,!1,null,null,null).exports,a=i("/ocq"),r=i("8+8L"),c=i("2uFj"),u=i.n(c),p={data:function(){return{topics:[],originalTopics:[],topicSearch:""}},created:function(){this.fetchTopicData()},methods:{fetchTopicData:function(){var t=this;this.$http.get(u.a.api.uri+"topics").then(function(e){t.topics=e.body,t.originalTopics=t.topics},function(t){})},searchTopics:function(){if(""!==this.topicSearch){for(var t=[],e=0;e<this.originalTopics.length;e++){this.originalTopics[e].title.toLowerCase().indexOf(this.topicSearch.toLowerCase())>=0&&t.push(this.originalTopics[e])}this.topics=t}else this.topics=this.originalTopics}}},l={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"all-topics"}},[i("h1",[t._v("Quiz-server")]),t._v(" "),i("p",[i("router-link",{staticClass:"btn btn-primary",attrs:{to:{name:"CreateTopic"}}},[t._v("Создать категорию")])],1),t._v(" "),i("div",{staticClass:"form-group"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.topicSearch,expression:"topicSearch"}],staticClass:"form-control",attrs:{type:"text",name:"search",placeholder:"Search topic"},domProps:{value:t.topicSearch},on:{keyup:t.searchTopics,input:function(e){e.target.composing||(t.topicSearch=e.target.value)}}})]),t._v(" "),i("table",{staticClass:"table table-hover"},[t._m(0),t._v(" "),i("tbody",t._l(t.topics,function(e){return i("tr",{key:e._id},[i("td",[t._v(t._s(e.title))]),t._v(" "),i("td",[i("a",{attrs:{href:e.imageUrl}},[t._v(t._s(e.imageUrl))])]),t._v(" "),i("td",[i("router-link",{staticClass:"btn btn-default",attrs:{to:{name:"Questions",params:{topicId:e._id,topicTitle:e.title}}}},[t._v("вопросы")]),t._v(" "),i("router-link",{staticClass:"btn btn-primary",attrs:{to:{name:"EditTopic",params:{_id:e._id}}}},[t._v("редактировать")]),t._v(" "),i("router-link",{staticClass:"btn btn-danger",attrs:{to:{name:"DeleteTopic",params:{_id:e._id}}}},[t._v("удалить")])],1)])}))])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("td",[this._v("Название")]),this._v(" "),e("td",[this._v("Url картинки")]),this._v(" "),e("td",[this._v("Действия")])])])}]},m=i("VU/8")(p,l,!1,null,null,null).exports,d={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"notifications"}},t._l(t.notifications,function(e){return i("div",{class:t.getNotificationClass(e)},[t._v("\n    "+t._s(e.message)+"\n  ")])}))},staticRenderFns:[]},v=i("VU/8")({data:function(){return{}},methods:{getNotificationClass:function(t){return"alert alert-"+t.type}},props:["notifications"]},d,!1,null,null,null).exports,_={data:function(){return{topic:{},notifications:[]}},methods:{addTopic:function(){var t=this;this.$http.post(u.a.api.uri+"topics/",this.topic,{headers:{"Content-Type":"application/json"}}).then(function(e){t.notifications.push({type:"success",message:"Категория успешно создана"})},function(e){t.notifications.push({type:"danger",message:"Категория не создана"})})}},components:{notification:v}},f={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"create-topic"}},[i("h1",[t._v("Создать категорию")]),t._v(" "),i("p",[i("router-link",{attrs:{to:{name:"AllTopics"}}},[t._v("Вернуться к категориям")])],1),t._v(" "),i("notification",{attrs:{notifications:t.notifications}}),t._v(" "),i("form",{on:{submit:function(e){e.preventDefault(),t.addTopic(e)}}},[i("div",{staticClass:"form-group"},[i("label",{attrs:{name:"Topic_title"}},[t._v("Название")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.topic.title,expression:"topic.title"}],staticClass:"form-control",attrs:{type:"text",id:"Topic_title",required:""},domProps:{value:t.topic.title},on:{input:function(e){e.target.composing||t.$set(t.topic,"title",e.target.value)}}})]),t._v(" "),i("div",{staticClass:"form-group"},[i("label",{attrs:{name:"Topic_image"}},[t._v("Картинка")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.topic.imageUrl,expression:"topic.imageUrl"}],staticClass:"form-control",attrs:{type:"text",id:"Topic_imageUrl",required:""},domProps:{value:t.topic.imageUrl},on:{input:function(e){e.target.composing||t.$set(t.topic,"imageUrl",e.target.value)}}})]),t._v(" "),t._m(0)])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"form-group"},[e("button",{staticClass:"btn btn-primary"},[this._v("Создать")])])}]},h=i("VU/8")(_,f,!1,null,null,null).exports,g={data:function(){return{topic:{},notifications:[]}},created:function(){this.getTopic()},methods:{getTopic:function(){var t=this;this.$http.get(u.a.api.uri+"topics/"+this.$route.params._id).then(function(e){t.topic=e.body},function(t){})},deleteTopic:function(){var t=this;this.$http.delete(u.a.api.uri+"topics/"+this.$route.params._id,this.topic,{headers:{"Content-Type":"application/json"}}).then(function(e){t.$router.push({name:"AllTopics"})},function(e){t.notifications.push({type:"danger",message:"Категория не была удалена, что-то пошло не так"})})}},components:{notification:v}},q={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"delete-topic"}},[i("h1",[t._v("Удалить категорию "+t._s(t.topic.title))]),t._v(" "),i("p",[i("router-link",{attrs:{to:{name:"AllTopics"}}},[t._v("Вернуться к категориям")])],1),t._v(" "),i("notification",{attrs:{notifications:t.notifications}}),t._v(" "),i("form",{on:{submit:function(e){e.preventDefault(),t.deleteTopic(e)}}},[t._m(0)])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("button",{staticClass:"btn btn-danger"},[this._v("Удалить категорию")])])}]},w=i("VU/8")(g,q,!1,null,null,null).exports,b={data:function(){return{topic:{},notifications:[]}},created:function(){this.getTopic()},methods:{getTopic:function(){var t=this;this.$http.get(u.a.api.uri+"topics/"+this.$route.params._id).then(function(e){t.topic=e.body},function(t){})},editTopic:function(){var t=this;this.$http.patch(u.a.api.uri+"topics/"+this.$route.params._id,this.topic,{headers:{"Content-Type":"application/json"}}).then(function(e){t.notifications.push({type:"success",message:"Категория успешно обновлена"})},function(e){t.notifications.push({type:"danger",message:"Что-то пошло не так"})})}},components:{notification:v}},C={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"update-topic"}},[i("h1",[t._v("Редактировать категорию")]),t._v(" "),i("p",[i("router-link",{attrs:{to:{name:"AllTopics"}}},[t._v("Вернуться к категориям")])],1),t._v(" "),i("notification",{attrs:{notifications:t.notifications}}),t._v(" "),i("form",{on:{submit:function(e){e.preventDefault(),t.editTopic(e)}}},[i("div",{staticClass:"form-group"},[i("label",{attrs:{name:"topic_id"}},[t._v("ID")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.topic._id,expression:"topic._id"}],staticClass:"form-control",attrs:{type:"text",disabled:"",id:"topic_id"},domProps:{value:t.topic._id},on:{input:function(e){e.target.composing||t.$set(t.topic,"_id",e.target.value)}}})]),t._v(" "),i("div",{staticClass:"form-group"},[i("label",{attrs:{name:"topic_title"}},[t._v("Название")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.topic.title,expression:"topic.title"}],staticClass:"form-control",attrs:{type:"text",id:"topic_title",required:""},domProps:{value:t.topic.title},on:{input:function(e){e.target.composing||t.$set(t.topic,"title",e.target.value)}}})]),t._v(" "),i("div",{staticClass:"form-group"},[i("label",{attrs:{name:"Topic_image"}},[t._v("Картинка")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.topic.imageUrl,expression:"topic.imageUrl"}],staticClass:"form-control",attrs:{type:"text",id:"Topic_imageUrl",required:""},domProps:{value:t.topic.imageUrl},on:{input:function(e){e.target.composing||t.$set(t.topic,"imageUrl",e.target.value)}}})]),t._v(" "),t._m(0)])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"form-group"},[e("button",{staticClass:"btn btn-primary"},[this._v("Сохранить")])])}]},$=i("VU/8")(b,C,!1,null,null,null).exports,y={data:function(){return{topic:{},questions:[]}},created:function(){this.getTopic(),this.fetchQuestionData()},methods:{getTopic:function(){var t=this;this.$http.get(u.a.api.uri+"topics/"+this.$route.params.topicId).then(function(e){t.topic=e.body},function(t){})},fetchQuestionData:function(){var t=this;this.$http.get(u.a.api.uri+"topics/"+this.$route.params.topicId+"/questions").then(function(e){t.questions=e.body},function(t){})}}},T={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"topic-questions"}},[i("h1",[t._v("Вопросы из категории "+t._s(t.topic.title))]),t._v(" "),i("p",[i("router-link",{attrs:{to:{name:"AllTopics"}}},[t._v("Вернуться к категориям")])],1),t._v(" "),i("p",[i("router-link",{staticClass:"btn btn-primary",attrs:{to:{name:"CreateQuestion",params:{topicId:t.topic._id}}}},[t._v("Создать вопрос")])],1),t._v(" "),i("table",{staticClass:"table table-hover"},[t._m(0),t._v(" "),i("tbody",t._l(t.questions,function(e){return i("tr",{key:e._id},[i("td",[i("a",{attrs:{href:e.imageUrl}},[t._v(t._s(e.imageUrl))])]),t._v(" "),i("td",[t._v(t._s(e.answer1))]),t._v(" "),i("td",[t._v(t._s(e.answer2))]),t._v(" "),i("td",[t._v(t._s(e.answer3))]),t._v(" "),i("td",[t._v(t._s(e.answer4))]),t._v(" "),i("td",[i("router-link",{staticClass:"btn btn-primary",attrs:{to:{name:"EditQuestion",params:{questionId:e._id,topicId:t.topic._id}}}},[t._v("Редактировать")]),t._v(" "),i("router-link",{staticClass:"btn btn-danger",attrs:{to:{name:"DeleteQuestion",params:{questionId:e._id,topicId:t.topic._id}}}},[t._v("Удалить")])],1)])}))])])},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("thead",[i("tr",[i("td",[t._v("Url картинки")]),t._v(" "),i("td",[t._v("Ответ 1")]),t._v(" "),i("td",[t._v("Ответ 2")]),t._v(" "),i("td",[t._v("Ответ 3")]),t._v(" "),i("td",[t._v("Ответ 4")]),t._v(" "),i("td",[t._v("#")])])])}]},x=i("VU/8")(y,T,!1,null,null,null).exports,U={data:function(){return{question:{},notifications:[]}},methods:{addQuestion:function(){var t=this;this.question.topicId=this.$route.params.topicId,this.$http.post(u.a.api.uri+"questions/",this.question,{headers:{"Content-Type":"application/json"}}).then(function(e){t.notifications.push({type:"success",message:"Вопрос успешно создан"})},function(e){t.notifications.push({type:"danger",message:"Вопрос не создан, что-то пошло не так"})})}},components:{notification:v}},Q={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"create-question"}},[i("h1",[t._v("Создать вопрос")]),t._v(" "),i("p",[i("router-link",{attrs:{to:{name:"Questions",params:{topicId:this.$route.params.topicId}}}},[t._v("Вернуться к вопросам")])],1),t._v(" "),i("notification",{attrs:{notifications:t.notifications}}),t._v(" "),i("form",{on:{submit:function(e){e.preventDefault(),t.addQuestion(e)}}},[i("div",{staticClass:"form-group"},[i("label",{attrs:{name:"Question_image"}},[t._v("Картинка")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.question.imageUrl,expression:"question.imageUrl"}],staticClass:"form-control",attrs:{type:"text",id:"question_imageUrl",required:""},domProps:{value:t.question.imageUrl},on:{input:function(e){e.target.composing||t.$set(t.question,"imageUrl",e.target.value)}}})]),t._v(" "),i("div",{staticClass:"form-group"},[i("label",{attrs:{name:"Question_answer1"}},[t._v("Ответ 1 (верный)")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.question.answer1,expression:"question.answer1"}],staticClass:"form-control",attrs:{type:"text",id:"question_answer1",required:""},domProps:{value:t.question.answer1},on:{input:function(e){e.target.composing||t.$set(t.question,"answer1",e.target.value)}}})]),t._v(" "),i("div",{staticClass:"form-group"},[i("label",{attrs:{name:"Question_answer2"}},[t._v("Ответ 2")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.question.answer2,expression:"question.answer2"}],staticClass:"form-control",attrs:{type:"text",id:"question_answer2",required:""},domProps:{value:t.question.answer2},on:{input:function(e){e.target.composing||t.$set(t.question,"answer2",e.target.value)}}})]),t._v(" "),i("div",{staticClass:"form-group"},[i("label",{attrs:{name:"Question_answer3"}},[t._v("Ответ 3")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.question.answer3,expression:"question.answer3"}],staticClass:"form-control",attrs:{type:"text",id:"question_answer3",required:""},domProps:{value:t.question.answer3},on:{input:function(e){e.target.composing||t.$set(t.question,"answer3",e.target.value)}}})]),t._v(" "),i("div",{staticClass:"form-group"},[i("label",{attrs:{name:"Question_answer4"}},[t._v("Ответ 4")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.question.answer4,expression:"question.answer4"}],staticClass:"form-control",attrs:{type:"text",id:"question_answer4",required:""},domProps:{value:t.question.answer4},on:{input:function(e){e.target.composing||t.$set(t.question,"answer4",e.target.value)}}})]),t._v(" "),t._m(0)])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"form-group"},[e("button",{staticClass:"btn btn-primary"},[this._v("Создать")])])}]},E=i("VU/8")(U,Q,!1,null,null,null).exports,I={data:function(){return{question:{},notifications:[]}},created:function(){this.getQuestion()},methods:{getQuestion:function(){var t=this;this.$http.get(u.a.api.uri+"questions/"+this.$route.params.questionId).then(function(e){t.question=e.body},function(t){})},editQuestion:function(){var t=this;this.$http.patch(u.a.api.uri+"questions/"+this.$route.params.questionId,this.question,{headers:{"Content-Type":"application/json"}}).then(function(e){t.notifications.push({type:"success",message:"Вопрос успешно обновлен"})},function(e){t.notifications.push({type:"danger",message:"Что-то пошло не так"})})}},components:{notification:v}},N={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"update-question"}},[i("h1",[t._v("Редактировать вопрос")]),t._v(" "),i("p",[i("router-link",{attrs:{to:{name:"Questions",params:{topicId:this.$route.params.topicId}}}},[t._v("Вернуться к вопросам")])],1),t._v(" "),i("notification",{attrs:{notifications:t.notifications}}),t._v(" "),i("form",{on:{submit:function(e){e.preventDefault(),t.editQuestion(e)}}},[i("div",{staticClass:"form-group"},[i("label",{attrs:{name:"Question_image"}},[t._v("Картинка")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.question.imageUrl,expression:"question.imageUrl"}],staticClass:"form-control",attrs:{type:"text",id:"question_imageUrl",required:""},domProps:{value:t.question.imageUrl},on:{input:function(e){e.target.composing||t.$set(t.question,"imageUrl",e.target.value)}}})]),t._v(" "),i("div",{staticClass:"form-group"},[i("label",{attrs:{name:"Question_answer1"}},[t._v("Ответ 1 (верный)")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.question.answer1,expression:"question.answer1"}],staticClass:"form-control",attrs:{type:"text",id:"question_answer1",required:""},domProps:{value:t.question.answer1},on:{input:function(e){e.target.composing||t.$set(t.question,"answer1",e.target.value)}}})]),t._v(" "),i("div",{staticClass:"form-group"},[i("label",{attrs:{name:"Question_answer2"}},[t._v("Ответ 2")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.question.answer2,expression:"question.answer2"}],staticClass:"form-control",attrs:{type:"text",id:"question_answer2",required:""},domProps:{value:t.question.answer2},on:{input:function(e){e.target.composing||t.$set(t.question,"answer2",e.target.value)}}})]),t._v(" "),i("div",{staticClass:"form-group"},[i("label",{attrs:{name:"Question_answer3"}},[t._v("Ответ 3")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.question.answer3,expression:"question.answer3"}],staticClass:"form-control",attrs:{type:"text",id:"question_answer3",required:""},domProps:{value:t.question.answer3},on:{input:function(e){e.target.composing||t.$set(t.question,"answer3",e.target.value)}}})]),t._v(" "),i("div",{staticClass:"form-group"},[i("label",{attrs:{name:"Question_answer4"}},[t._v("Ответ 4")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.question.answer4,expression:"question.answer4"}],staticClass:"form-control",attrs:{type:"text",id:"question_answer4",required:""},domProps:{value:t.question.answer4},on:{input:function(e){e.target.composing||t.$set(t.question,"answer4",e.target.value)}}})]),t._v(" "),t._m(0)])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"form-group"},[e("button",{staticClass:"btn btn-primary"},[this._v("Сохранить")])])}]},k=i("VU/8")(I,N,!1,null,null,null).exports,P={data:function(){return{notifications:[]}},methods:{deletequestion:function(){var t=this;this.$http.delete(u.a.api.uri+"questions/"+this.$route.params.questionId,{headers:{"Content-Type":"application/json"}}).then(function(e){t.$router.push({name:"Questions",params:{topicId:t.$route.params.topicId}})},function(e){t.notifications.push({type:"danger",message:"Что-то пошло не так, вопрос не удален"})})}},components:{notification:v}},D={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"delete-question"}},[i("h1",[t._v("Удалить вопрос")]),t._v(" "),i("p",[i("router-link",{attrs:{to:{name:"Questions",params:{topicId:this.$route.params.topicId}}}},[t._v("Вернуться к вопросам")])],1),t._v(" "),i("notification",{attrs:{notifications:t.notifications}}),t._v(" "),i("form",{on:{submit:function(e){e.preventDefault(),t.deletequestion(e)}}},[t._m(0)])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("button",{staticClass:"btn btn-danger"},[this._v("Удалить вопрос")])])}]},F=i("VU/8")(P,D,!1,null,null,null).exports;n.a.use(a.a),n.a.use(r.a);var R=new a.a({routes:[{path:"/",name:"AllTopics",component:m},{path:"/create_topic",name:"CreateTopic",component:h},{path:"/delete_topic",name:"DeleteTopic",component:w},{path:"/edit_topic",name:"EditTopic",component:$},{path:"/questions",name:"Questions",component:x},{path:"/create_questions",name:"CreateQuestion",component:E},{path:"/edit_questions",name:"EditQuestion",component:k},{path:"/delete_questions",name:"DeleteQuestion",component:F}]});n.a.config.productionTip=!1,new n.a({el:"#app",router:R,components:{App:o},template:"<App/>"})}},["NHnr"]);
//# sourceMappingURL=app.ab712dc4edb9dae03082.js.map