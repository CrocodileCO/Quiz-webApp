webpackJsonp([1],{0:function(t,e){},"2uFj":function(t,e){t.exports={api:{uri:"http://localhost:3000/api/"}}},"5ZiA":function(t,e){},"7dbS":function(t,e){},Cnda:function(t,e){},D3DU:function(t,e){},FdZQ:function(t,e){},GUG6:function(t,e){},NHnr:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("7+uW"),n={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("nav",{staticClass:"navbar navbar-default"},[i("div",{staticClass:"container-fluid"},[t._m(0),t._v(" "),i("div",{staticClass:"collapse navbar-collapse",attrs:{id:"bs-example-navbar-collapse-3"}},[i("button",{staticClass:"btn btn-default navbar-btn pull-right",attrs:{type:"button"},on:{click:function(e){t.$auth.logout()}}},[t._v("logout")])])])]),t._v(" "),i("div",{staticClass:"container"},[i("div",{attrs:{id:"page"}},[i("transition",{attrs:{name:"fade"}},[i("router-view")],1)],1)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"navbar-header"},[e("button",{staticClass:"collapsed navbar-toggle",attrs:{type:"button","data-toggle":"collapse","data-target":"#bs-example-navbar-collapse-3","aria-expanded":"false"}},[e("span",{staticClass:"sr-only"},[this._v("Toggle navigation")]),this._v(" "),e("span",{staticClass:"icon-bar"}),this._v(" "),e("span",{staticClass:"icon-bar"}),this._v(" "),e("span",{staticClass:"icon-bar"})]),this._v(" "),e("a",{staticClass:"navbar-brand",attrs:{href:"#"}},[this._v("QUIZ-server")])])}]};var a=i("VU/8")({name:"App"},n,!1,function(t){i("qu8Z")},null,null).exports,o=i("/ocq"),r=i("8+8L"),c=i("2uFj"),l=i.n(c),u={data:function(){return{groups:[{topics:[]}],originalTopics:[],topicSearch:""}},created:function(){this.fetchTopicData()},methods:{fetchTopicData:function(){var t=this;this.$http.get(l.a.api.uri+"groups").then(function(e){t.groups=e.body,t.originalTopics=t.groups.topics},function(t){})},searchTopics:function(){if(""!==this.topicSearch){for(var t=[],e=0;e<this.originalTopics.length;e++){this.originalTopics[e].title.toLowerCase().indexOf(this.topicSearch.toLowerCase())>=0&&t.push(this.originalTopics[e])}this.groups.topics=t}else this.groups.topics=this.originalTopics}}},p={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"all-topics"}},[i("h1",[t._v("Quiz-server")]),t._v(" "),i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-6"},[i("p",{staticStyle:{float:"left"}},[i("router-link",{staticClass:"btn btn-info",attrs:{to:{name:"CreateGroup"}}},[t._v("Создать группу")])],1),t._v(" "),i("p",{staticStyle:{float:"left"}},[i("router-link",{staticClass:"btn btn-primary",attrs:{to:{name:"CreateTopic"}}},[t._v("Создать топик")])],1)]),t._v(" "),i("div",{staticClass:"col-md-6"},[i("p",{staticClass:"text-right"},[i("router-link",{staticClass:"btn btn-primary",attrs:{to:{name:"Artists"}}},[t._v("Рекомендательная система")])],1)])]),t._v(" "),i("div",{staticClass:"form-group"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.topicSearch,expression:"topicSearch"}],staticClass:"form-control",attrs:{type:"text",name:"search",placeholder:"Search topic"},domProps:{value:t.topicSearch},on:{keyup:t.searchTopics,input:function(e){e.target.composing||(t.topicSearch=e.target.value)}}})]),t._v(" "),t._l(t.groups,function(e){return i("div",{key:e._id},[i("h3",[t._v(t._s(e.title)+"\n    "),i("span",[i("router-link",{attrs:{to:{name:"EditGroup",params:{groupId:e._id}}}},[t._v("редактировать")])],1)]),t._v(" "),i("table",{staticClass:"table table-hover"},[i("tbody",t._l(e.topics,function(e,s){return i("tr",{key:e._id},[i("td",[t._v(t._s(s+1))]),t._v(" "),i("td",[i("a",{attrs:{href:e.imageUrl,target:"_blank"}},[i("img",{attrs:{src:e.imageUrl,width:"40",height:"40",alt:""}})])]),t._v(" "),i("td",[t._v(t._s(e.title))]),t._v(" "),i("td",{staticStyle:{"text-align":"right"}},[i("router-link",{staticClass:"btn btn-default",attrs:{to:{name:"Questions",params:{topicId:e._id,topicTitle:e.title}}}},[t._v("вопросы")]),t._v(" "),i("router-link",{staticClass:"btn btn-info",attrs:{to:{name:"RecSystem",params:{topicId:e._id}}}},[t._v("рек. система")]),t._v(" "),i("router-link",{staticClass:"btn btn-primary",attrs:{to:{name:"EditTopic",params:{topicId:e._id}}}},[t._v("редактировать")]),t._v(" "),i("router-link",{staticClass:"btn btn-danger",attrs:{to:{name:"DeleteTopic",params:{topicId:e._id}}}},[t._v("удалить")])],1)])}))])])})],2)},staticRenderFns:[]};var d=i("VU/8")(u,p,!1,function(t){i("VFio")},"data-v-1ddd02ba",null).exports,m={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"notifications"}},t._l(t.notifications,function(e){return i("div",{class:t.getNotificationClass(e)},[t._v("\n    "+t._s(e.message)+"\n  ")])}))},staticRenderFns:[]},v=i("VU/8")({data:function(){return{}},methods:{getNotificationClass:function(t){return"alert alert-"+t.type}},props:["notifications"]},m,!1,null,null,null).exports,h=i("RUzx"),f=i.n(h),_={data:function(){return{topic:{},notifications:[],options:[]}},created:function(){this.fetchGroupsData()},methods:{fetchGroupsData:function(){var t=this;this.$http.get(l.a.api.uri+"groups").then(function(e){var i=e.body;t.options=i.map(function(t){return{_id:t._id,title:t.title}})},function(t){})},addTopic:function(){var t=this;this.topic.groupId?this.$http.post(l.a.api.uri+"topics/",this.topic,{headers:{"Content-Type":"application/json"}}).then(function(e){t.notifications.push({type:"success",message:"Категория успешно создана"})},function(e){t.notifications.push({type:"danger",message:"Категория не создана"})}):this.notifications.push({type:"danger",message:"Не выбрана группа"})}},components:{Multiselect:f.a,notification:v}},g={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"create-topic"}},[i("h1",[t._v("Создать топик")]),t._v(" "),i("p",[i("router-link",{attrs:{to:{name:"AllTopics"}}},[t._v("Назад")])],1),t._v(" "),i("notification",{attrs:{notifications:t.notifications}}),t._v(" "),i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-6"},[i("form",{on:{submit:function(e){e.preventDefault(),t.addTopic(e)}}},[i("div",{staticClass:"form-group"},[i("label",{attrs:{name:"Topic_title"}},[t._v("Название")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.topic.title,expression:"topic.title"}],staticClass:"form-control",attrs:{type:"text",id:"Topic_title",required:""},domProps:{value:t.topic.title},on:{input:function(e){e.target.composing||t.$set(t.topic,"title",e.target.value)}}})]),t._v(" "),i("div",{staticClass:"form-group"},[i("label",{attrs:{name:"Topic_image"}},[t._v("Url картинки")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.topic.imageUrl,expression:"topic.imageUrl"}],staticClass:"form-control",attrs:{type:"text",id:"Topic_imageUrl",required:""},domProps:{value:t.topic.imageUrl},on:{input:function(e){e.target.composing||t.$set(t.topic,"imageUrl",e.target.value)}}})]),t._v(" "),i("div",{staticClass:"form-group"},[i("div",[i("multiselect",{attrs:{options:t.options,multiple:!1,searchable:!0,"track-by":"title",label:"title","close-on-select":!0,placeholder:"Выбрать направления"},model:{value:t.topic.groupId,callback:function(e){t.$set(t.topic,"groupId",e)},expression:"topic.groupId"}})],1)]),t._v(" "),t._m(0)])]),t._v(" "),i("div",{staticClass:"col-md-6"},[i("img",{directives:[{name:"show",rawName:"v-show",value:t.topic.imageUrl,expression:"topic.imageUrl"}],attrs:{src:t.topic.imageUrl,alt:""}})])])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"form-group"},[e("button",{staticClass:"btn btn-primary"},[this._v("Создать")])])}]};var b=i("VU/8")(_,g,!1,function(t){i("D3DU"),i("tA/9")},"data-v-279635be",null).exports,C={data:function(){return{topic:{},notifications:[]}},created:function(){this.getTopic()},methods:{getTopic:function(){var t=this;this.$http.get(l.a.api.uri+"topics/"+this.$route.params.topicId).then(function(e){t.topic=e.body},function(t){})},deleteTopic:function(){var t=this;this.$http.delete(l.a.api.uri+"topics/"+this.$route.params.topicId,this.topic,{headers:{"Content-Type":"application/json"}}).then(function(e){t.$router.push({name:"AllTopics"})},function(e){t.notifications.push({type:"danger",message:"Категория не была удалена, что-то пошло не так"})})}},components:{notification:v}},y={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"delete-topic"}},[i("h1",[t._v("Удалить категорию "+t._s(t.topic.title))]),t._v(" "),i("p",[i("router-link",{attrs:{to:{name:"AllTopics"}}},[t._v("Вернуться к категориям")])],1),t._v(" "),i("notification",{attrs:{notifications:t.notifications}}),t._v(" "),i("form",{on:{submit:function(e){e.preventDefault(),t.deleteTopic(e)}}},[t._m(0)])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("button",{staticClass:"btn btn-danger"},[this._v("Удалить категорию")])])}]},w=i("VU/8")(C,y,!1,null,null,null).exports,q={data:function(){return{topic:{},notifications:[],options:[]}},created:function(){this.getTopic(),this.fetchGroupsData()},methods:{getTopic:function(){var t=this;this.$http.get(l.a.api.uri+"topics/"+this.$route.params.topicId).then(function(e){t.topic=e.body},function(t){})},fetchGroupsData:function(){var t=this;this.$http.get(l.a.api.uri+"groups").then(function(e){var i=e.body;t.options=i.map(function(t){return{_id:t._id,title:t.title}});for(var s=0;t.options.length;s++)if(t.topic.groupId===t.options[s]._id)return void(t.topic.groupId=t.options[s])},function(t){})},editTopic:function(){var t=this;this.topic.groupId?this.$http.patch(l.a.api.uri+"topics/"+this.$route.params.topicId,this.topic,{headers:{"Content-Type":"application/json"}}).then(function(e){t.notifications.push({type:"success",message:"Категория успешно обновлена"})},function(e){t.notifications.push({type:"danger",message:"Что-то пошло не так"})}):this.notifications.push({type:"danger",message:"Не выбрана группа"})}},components:{Multiselect:f.a,notification:v}},$={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"update-topic"}},[i("h1",[t._v("Редактировать категорию")]),t._v(" "),i("p",[i("router-link",{attrs:{to:{name:"AllTopics"}}},[t._v("Назад")])],1),t._v(" "),i("notification",{attrs:{notifications:t.notifications}}),t._v(" "),i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-6"},[i("form",{on:{submit:function(e){e.preventDefault(),t.editTopic(e)}}},[i("div",{staticClass:"form-group"},[i("label",{attrs:{name:"topic_id"}},[t._v("ID")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.topic._id,expression:"topic._id"}],staticClass:"form-control",attrs:{type:"text",disabled:"",id:"topic_id"},domProps:{value:t.topic._id},on:{input:function(e){e.target.composing||t.$set(t.topic,"_id",e.target.value)}}})]),t._v(" "),i("div",{staticClass:"form-group"},[i("label",{attrs:{name:"topic_title"}},[t._v("Название")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.topic.title,expression:"topic.title"}],staticClass:"form-control",attrs:{type:"text",id:"topic_title",required:""},domProps:{value:t.topic.title},on:{input:function(e){e.target.composing||t.$set(t.topic,"title",e.target.value)}}})]),t._v(" "),i("div",{staticClass:"form-group"},[i("label",{attrs:{name:"Topic_image"}},[t._v("Картинка")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.topic.imageUrl,expression:"topic.imageUrl"}],staticClass:"form-control",attrs:{type:"text",id:"Topic_imageUrl",required:""},domProps:{value:t.topic.imageUrl},on:{input:function(e){e.target.composing||t.$set(t.topic,"imageUrl",e.target.value)}}})]),t._v(" "),i("div",{staticClass:"form-group"},[i("div",[i("multiselect",{attrs:{options:t.options,multiple:!1,searchable:!0,"track-by":"title",label:"title","close-on-select":!0,placeholder:"Выбрать направления"},model:{value:t.topic.groupId,callback:function(e){t.$set(t.topic,"groupId",e)},expression:"topic.groupId"}})],1)]),t._v(" "),t._m(0)])]),t._v(" "),i("div",{staticClass:"col-md-6"},[i("img",{directives:[{name:"show",rawName:"v-show",value:t.topic.imageUrl,expression:"topic.imageUrl"}],attrs:{src:t.topic.imageUrl,alt:""}})])])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"form-group"},[e("button",{staticClass:"btn btn-primary"},[this._v("Сохранить")])])}]};var x=i("VU/8")(q,$,!1,function(t){i("Cnda"),i("TpQ+")},"data-v-a93d2ab8",null).exports,V={data:function(){return{answer1Search:"",originalQuestions:[],topic:{},questions:[]}},created:function(){this.getTopic(),this.fetchQuestionData()},methods:{getTopic:function(){var t=this;this.$http.get(l.a.api.uri+"topics/"+this.$route.params.topicId).then(function(e){t.topic=e.body},function(t){})},fetchQuestionData:function(){var t=this;this.$http.get(l.a.api.uri+"topics/"+this.$route.params.topicId+"/questions").then(function(e){t.questions=e.body,t.originalQuestions=t.questions},function(t){})},searchQuestions:function(){if(""!==this.answer1Search){for(var t=[],e=0;e<this.originalQuestions.length;e++){var i=this.originalQuestions[e].answers[0].text.toLowerCase();console.log(i),i.indexOf(this.answer1Search.toLowerCase())>=0&&t.push(this.originalQuestions[e])}this.questions=t}else this.questions=this.originalQuestions}}},I={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"topic-questions"}},[i("h1",[t._v("Вопросы из категории "+t._s(t.topic.title))]),t._v(" "),i("p",[i("router-link",{attrs:{to:{name:"AllTopics"}}},[t._v("Вернуться к категориям")])],1),t._v(" "),i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-6"},[i("p",[i("router-link",{staticClass:"btn btn-primary",attrs:{to:{name:"CreateQuestion",params:{topicId:t.topic._id}}}},[t._v("Создать вопрос")])],1)]),t._v(" "),i("div",{staticClass:"col-md-6"},[i("p",{staticClass:"text-right"},[i("router-link",{staticClass:"btn btn-danger",attrs:{to:{name:"GenerateQuestion",params:{topicId:t.topic._id}}}},[t._v("Сгенерировать вопрос")])],1)])]),t._v(" "),i("div",{staticClass:"form-group"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.answer1Search,expression:"answer1Search"}],staticClass:"form-control",attrs:{type:"text",name:"search",placeholder:"Search"},domProps:{value:t.answer1Search},on:{keyup:t.searchQuestions,input:function(e){e.target.composing||(t.answer1Search=e.target.value)}}})]),t._v(" "),i("table",{staticClass:"table table-hover"},[t._m(0),t._v(" "),i("tbody",t._l(t.questions,function(e,s){return i("tr",{key:e._id},[i("td",[t._v(t._s(s+1))]),t._v(" "),i("td",[i("a",{attrs:{href:e.imageUrl,target:"_blank"}},[i("img",{attrs:{src:e.imageUrl,width:"50",height:"50",alt:""}})])]),t._v(" "),t._l(e.answers,function(e){return i("td",{key:e.id},[t._v(t._s(e.text)+" "),i("i",[t._v("("+t._s(e.pickAmount)+")")])])}),t._v(" "),i("td",[i("router-link",{staticClass:"btn btn-primary",attrs:{to:{name:"EditQuestion",params:{questionId:e._id,topicId:t.topic._id}}}},[t._v("Редактировать")]),t._v(" "),i("router-link",{staticClass:"btn btn-danger",attrs:{to:{name:"DeleteQuestion",params:{questionId:e._id,topicId:t.topic._id}}}},[t._v("Удалить")])],1)],2)}))])])},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("thead",[i("tr",[i("td",[t._v("#")]),t._v(" "),i("td",[t._v("Картинка")]),t._v(" "),i("td",[t._v("Ответ 1")]),t._v(" "),i("td",[t._v("Ответ 2")]),t._v(" "),i("td",[t._v("Ответ 3")]),t._v(" "),i("td",[t._v("Ответ 4")]),t._v(" "),i("td",[t._v("#")])])])}]};var k=i("VU/8")(V,I,!1,function(t){i("GUG6")},"data-v-68c8a595",null).exports,S=i("Zrlr"),T=i.n(S),U=function t(e,i){T()(this,t),this.id=e,this.text=i},D={data:function(){return{question:{information:{text:""}},notifications:[],answers:[]}},methods:{addQuestion:function(){var t=this;this.question.topicId=this.$route.params.topicId,this.answers.push(new U(1,document.getElementById("question_answer1").value)),this.answers.push(new U(2,document.getElementById("question_answer2").value)),this.answers.push(new U(3,document.getElementById("question_answer3").value)),this.answers.push(new U(4,document.getElementById("question_answer4").value)),this.question.answers=this.answers,this.$http.post(l.a.api.uri+"questions/",this.question,{headers:{"Content-Type":"application/json"}}).then(function(e){t.notifications.push({type:"success",message:"Вопрос успешно создан"}),t.answers=[]},function(e){t.notifications.push({type:"danger",message:"Вопрос не создан, что-то пошло не так"})})}},components:{notification:v}},A={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"create-question"}},[i("h1",[t._v("Создать вопрос")]),t._v(" "),i("p",[i("router-link",{attrs:{to:{name:"Questions",params:{topicId:this.$route.params.topicId}}}},[t._v("Вернуться к вопросам")])],1),t._v(" "),i("notification",{attrs:{notifications:t.notifications}}),t._v(" "),i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-6"},[i("form",{on:{submit:function(e){e.preventDefault(),t.addQuestion(e)}}},[i("div",{staticClass:"form-group"},[i("label",{attrs:{name:"Question_image"}},[t._v("Картинка")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.question.imageUrl,expression:"question.imageUrl"}],staticClass:"form-control",attrs:{type:"text",id:"question_imageUrl",required:""},domProps:{value:t.question.imageUrl},on:{input:function(e){e.target.composing||t.$set(t.question,"imageUrl",e.target.value)}}})]),t._v(" "),t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),t._m(3),t._v(" "),i("div",{staticClass:"form-group"},[i("label",{attrs:{name:"Information"}},[t._v("Интересный факт")]),t._v(" "),i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.question.information.text,expression:"question.information.text"}],staticClass:"form-control",attrs:{rows:"5",id:"information"},domProps:{value:t.question.information.text},on:{input:function(e){e.target.composing||t.$set(t.question.information,"text",e.target.value)}}})]),t._v(" "),t._m(4)])]),t._v(" "),i("div",{staticClass:"col-md-6"},[i("img",{directives:[{name:"show",rawName:"v-show",value:t.question.imageUrl,expression:"question.imageUrl"}],attrs:{src:t.question.imageUrl,alt:""}})])])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"form-group"},[e("label",{attrs:{name:"Question_answer1"}},[this._v("Ответ 1 (верный)")]),this._v(" "),e("input",{staticClass:"form-control",attrs:{type:"text",id:"question_answer1",required:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"form-group"},[e("label",{attrs:{name:"Question_answer2"}},[this._v("Ответ 2")]),this._v(" "),e("input",{staticClass:"form-control",attrs:{type:"text",id:"question_answer2",required:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"form-group"},[e("label",{attrs:{name:"Question_answer3"}},[this._v("Ответ 3")]),this._v(" "),e("input",{staticClass:"form-control",attrs:{type:"text",id:"question_answer3",required:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"form-group"},[e("label",{attrs:{name:"Question_answer4"}},[this._v("Ответ 4")]),this._v(" "),e("input",{staticClass:"form-control",attrs:{type:"text",id:"question_answer4",required:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"form-group"},[e("button",{staticClass:"btn btn-primary"},[this._v("Создать")])])}]};var E=i("VU/8")(D,A,!1,function(t){i("Vasw")},"data-v-49b20694",null).exports,Q={data:function(){return{question:{information:{text:String}},notifications:[]}},created:function(){this.getQuestion()},methods:{getQuestion:function(){var t=this;this.$http.get(l.a.api.uri+"questions/"+this.$route.params.questionId).then(function(e){t.question=e.body},function(t){})},editQuestion:function(){var t=this;this.$http.patch(l.a.api.uri+"questions/"+this.$route.params.questionId,this.question,{headers:{"Content-Type":"application/json"}}).then(function(e){t.notifications.push({type:"success",message:"Вопрос успешно обновлен"})},function(e){t.notifications.push({type:"danger",message:"Что-то пошло не так"})})}},components:{notification:v}},R={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"update-question"}},[i("h1",[t._v("Редактировать вопрос")]),t._v(" "),i("p",[i("router-link",{attrs:{to:{name:"Questions",params:{topicId:this.$route.params.topicId}}}},[t._v("Вернуться к вопросам")])],1),t._v(" "),i("notification",{attrs:{notifications:t.notifications}}),t._v(" "),i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-6"},[i("form",{on:{submit:function(e){e.preventDefault(),t.editQuestion(e)}}},[i("div",{staticClass:"form-group"},[i("label",{attrs:{name:"Question_image"}},[t._v("Картинка")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.question.imageUrl,expression:"question.imageUrl"}],staticClass:"form-control",attrs:{type:"text",id:"question_imageUrl",required:""},domProps:{value:t.question.imageUrl},on:{input:function(e){e.target.composing||t.$set(t.question,"imageUrl",e.target.value)}}})]),t._v(" "),t._l(t.question.answers,function(e){return i("div",{key:e.id,staticClass:"form-group"},[i("label",{attrs:{name:"Question_answer"}},[t._v("Ответ "+t._s(e.id))]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.text,expression:"answers.text"}],staticClass:"form-control",attrs:{type:"text",id:"question_answer",required:""},domProps:{value:e.text},on:{input:function(i){i.target.composing||t.$set(e,"text",i.target.value)}}})])}),t._v(" "),i("div",{staticClass:"form-group"},[i("label",{attrs:{name:"Information"}},[t._v("Интересный факт")]),t._v(" "),i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.question.information.text,expression:"question.information.text"}],staticClass:"form-control",attrs:{rows:"5",id:"information"},domProps:{value:t.question.information.text},on:{input:function(e){e.target.composing||t.$set(t.question.information,"text",e.target.value)}}})]),t._v(" "),t._m(0)],2)]),t._v(" "),i("div",{staticClass:"col-md-6"},[i("img",{directives:[{name:"show",rawName:"v-show",value:t.question.imageUrl,expression:"question.imageUrl"}],attrs:{src:t.question.imageUrl,alt:""}})])])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"form-group"},[e("button",{staticClass:"btn btn-primary"},[this._v("Сохранить")])])}]};var N=i("VU/8")(Q,R,!1,function(t){i("VrN5")},"data-v-48d86521",null).exports,B={data:function(){return{notifications:[]}},methods:{deletequestion:function(){var t=this;this.$http.delete(l.a.api.uri+"questions/"+this.$route.params.questionId,{headers:{"Content-Type":"application/json"}}).then(function(e){t.$router.push({name:"Questions",params:{topicId:t.$route.params.topicId}})},function(e){t.notifications.push({type:"danger",message:"Что-то пошло не так, вопрос не удален"})})}},components:{notification:v}},M={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"delete-question"}},[i("h1",[t._v("Удалить вопрос")]),t._v(" "),i("p",[i("router-link",{attrs:{to:{name:"Questions",params:{topicId:this.$route.params.topicId}}}},[t._v("Вернуться к вопросам")])],1),t._v(" "),i("notification",{attrs:{notifications:t.notifications}}),t._v(" "),i("form",{on:{submit:function(e){e.preventDefault(),t.deletequestion(e)}}},[t._m(0)])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("button",{staticClass:"btn btn-danger"},[this._v("Удалить вопрос")])])}]},P=i("VU/8")(B,M,!1,null,null,null).exports,F={data:function(){return{artists:[],originalArtists:[],artistSearch:""}},created:function(){this.fetchArtistData()},methods:{fetchArtistData:function(){var t=this;this.$http.get(l.a.api.uri+"rs/artists").then(function(e){t.artists=e.body,t.originalArtists=t.artists},function(t){})},searchArtists:function(){if(""!==this.artistSearch){for(var t=[],e=0;e<this.originalArtists.length;e++){this.originalArtists[e].name.toLowerCase().indexOf(this.artistSearch.toLowerCase())>=0&&t.push(this.originalArtists[e])}this.artists=t}else this.artists=this.originalArtists}}},j={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"all-artists"}},[i("h1",[t._v("Художники")]),t._v(" "),i("p",[i("router-link",{attrs:{to:{name:"AllTopics"}}},[t._v("Вернуться назад")])],1),t._v(" "),i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-6"},[i("p",[i("router-link",{staticClass:"btn btn-primary",attrs:{to:{name:"CreateArtist"}}},[t._v("Добавить художника")])],1)]),t._v(" "),i("div",{staticClass:"col-md-6"},[i("p",{staticClass:"text-right"},[i("router-link",{staticClass:"btn btn-primary",attrs:{to:{name:"CreateArtStyle"}}},[t._v("Добавить стиль")])],1)])]),t._v(" "),i("div",{staticClass:"form-group"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.artistSearch,expression:"artistSearch"}],staticClass:"form-control",attrs:{type:"text",name:"search",placeholder:"Имя художника"},domProps:{value:t.artistSearch},on:{keyup:t.searchArtists,input:function(e){e.target.composing||(t.artistSearch=e.target.value)}}})]),t._v(" "),i("table",{staticClass:"table table-hover"},[t._m(0),t._v(" "),i("tbody",t._l(t.artists,function(e,s){return i("tr",{key:e._id},[i("td",[t._v(t._s(s+1))]),t._v(" "),i("td",[t._v(t._s(e.name))]),t._v(" "),i("td",[t._v(t._s(e.styles.toString()))]),t._v(" "),i("td",[i("router-link",{staticClass:"btn btn-primary",attrs:{to:{name:"EditArtist",params:{artistId:e._id}}}},[t._v("редактировать")]),t._v(" "),i("router-link",{staticClass:"btn btn-danger",attrs:{to:{name:"DeleteArtist",params:{artistId:e._id}}}},[t._v("удалить")])],1)])}))])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("td",[this._v("#")]),this._v(" "),e("td",[this._v("Имя")]),this._v(" "),e("td",[this._v("Стили")])])])}]},G=i("VU/8")(F,j,!1,null,null,null).exports,Z={data:function(){return{artist:{},notifications:[],options:[]}},created:function(){this.getArtist(),this.fetchArtStylesData()},methods:{getArtist:function(){var t=this;this.$http.get(l.a.api.uri+"rs/artists/"+this.$route.params.artistId).then(function(e){t.artist=e.body},function(t){})},fetchArtStylesData:function(){var t=this;this.$http.get(l.a.api.uri+"rs/artstyles").then(function(e){var i=e.body;t.options=i.map(function(t){return t.title})},function(t){})},editArtist:function(){var t=this;this.$http.patch(l.a.api.uri+"rs/artists/"+this.$route.params.artistId,this.artist,{headers:{"Content-Type":"application/json"}}).then(function(e){t.notifications.push({type:"success",message:"Данные о художнике обновлены"})},function(e){t.notifications.push({type:"danger",message:"Что-то пошло не так"})})}},components:{Multiselect:f.a,notification:v}},L={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"update-artist"}},[i("h1",[t._v("Редактировать")]),t._v(" "),i("p",[i("router-link",{attrs:{to:{name:"Artists"}}},[t._v("Вернуться к списку художников")])],1),t._v(" "),i("notification",{attrs:{notifications:t.notifications}}),t._v(" "),i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-6"},[i("form",{on:{submit:function(e){e.preventDefault(),t.editArtist(e)}}},[i("div",{staticClass:"form-group"},[i("label",{attrs:{name:"artist_title"}},[t._v("Имя")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.artist.name,expression:"artist.name"}],staticClass:"form-control",attrs:{type:"text",id:"artist_name",required:""},domProps:{value:t.artist.name},on:{input:function(e){e.target.composing||t.$set(t.artist,"name",e.target.value)}}})]),t._v(" "),i("div",{staticClass:"form-group"},[i("div",[i("multiselect",{attrs:{options:t.options,multiple:!0,searchable:!0,"close-on-select":!1,placeholder:"Выбрать направления"},model:{value:t.artist.styles,callback:function(e){t.$set(t.artist,"styles",e)},expression:"artist.styles"}})],1)]),t._v(" "),t._m(0)])])])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"form-group"},[e("button",{staticClass:"btn btn-primary"},[this._v("Сохранить")])])}]};var z=i("VU/8")(Z,L,!1,function(t){i("FdZQ")},null,null).exports,O={data:function(){return{artist:{},notifications:[],options:[]}},created:function(){this.fetchArtStylesData()},methods:{fetchArtStylesData:function(){var t=this;this.$http.get(l.a.api.uri+"rs/artstyles").then(function(e){var i=e.body;t.options=i.map(function(t){return t.title})},function(t){})},addArtist:function(){var t=this;this.$http.post(l.a.api.uri+"rs/artists/",this.artist,{headers:{"Content-Type":"application/json"}}).then(function(e){t.notifications.push({type:"success",message:"Художник успешно добавлен"})},function(e){t.notifications.push({type:"danger",message:"Неудалось добавить"})})}},components:{Multiselect:f.a,notification:v}},H={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"create-artist"}},[i("h1",[t._v("Добавление нового художника в базу")]),t._v(" "),i("p",[i("router-link",{attrs:{to:{name:"Artists"}}},[t._v("Вернуться к списку художников")])],1),t._v(" "),i("notification",{attrs:{notifications:t.notifications}}),t._v(" "),i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-6"},[i("form",{on:{submit:function(e){e.preventDefault(),t.addArtist(e)}}},[i("div",{staticClass:"form-group"},[i("label",{attrs:{name:"Artist_name"}},[t._v("Имя")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.artist.name,expression:"artist.name"}],staticClass:"form-control",attrs:{type:"text",id:"artist_name",required:""},domProps:{value:t.artist.name},on:{input:function(e){e.target.composing||t.$set(t.artist,"name",e.target.value)}}})]),t._v(" "),i("div",{staticClass:"form-group"},[i("div",[i("multiselect",{attrs:{options:t.options,multiple:!0,searchable:!0,"close-on-select":!1,placeholder:"Выбрать направления"},model:{value:t.artist.styles,callback:function(e){t.$set(t.artist,"styles",e)},expression:"artist.styles"}})],1)]),t._v(" "),t._m(0)])])])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"form-group"},[e("button",{staticClass:"btn btn-primary"},[this._v("Создать")])])}]};var X=i("VU/8")(O,H,!1,function(t){i("5ZiA")},null,null).exports,J={data:function(){return{artist:{},notifications:[]}},created:function(){this.getArtist()},methods:{getArtist:function(){var t=this;this.$http.get(l.a.api.uri+"rs/artists/"+this.$route.params.artistId).then(function(e){t.artist=e.body},function(t){})},deleteArtist:function(){var t=this;this.$http.delete(l.a.api.uri+"rs/artists/"+this.$route.params.artistId,this.artist,{headers:{"Content-Type":"application/json"}}).then(function(e){t.$router.push({name:"Artists"})},function(e){t.notifications.push({type:"danger",message:"Что-то пошло не так"})})}},components:{notification:v}},W={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"delete-artist"}},[i("h1",[t._v("Удалить "+t._s(t.artist.name)+" из базы")]),t._v(" "),i("p",[i("router-link",{attrs:{to:{name:"Artists"}}},[t._v("Вернуться к списку художников")])],1),t._v(" "),i("notification",{attrs:{notifications:t.notifications}}),t._v(" "),i("form",{on:{submit:function(e){e.preventDefault(),t.deleteArtist(e)}}},[t._m(0)])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("button",{staticClass:"btn btn-danger"},[this._v("Удалить")])])}]},K=i("VU/8")(J,W,!1,null,null,null).exports,Y={data:function(){return{artStyle:{},notifications:[]}},methods:{addArtStyle:function(){var t=this;this.$http.post(l.a.api.uri+"rs/artStyles/",this.artStyle,{headers:{"Content-Type":"application/json"}}).then(function(e){t.notifications.push({type:"success",message:"Стиль успешно добавлен"})},function(e){t.notifications.push({type:"danger",message:"Неудалось добавить"})})}},components:{notification:v}},tt={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"create-artStyle"}},[i("h1",[t._v("Добавление нового художественного стиля в базу")]),t._v(" "),i("p",[i("router-link",{attrs:{to:{name:"Artists"}}},[t._v("Вернуться к списку художников")])],1),t._v(" "),i("notification",{attrs:{notifications:t.notifications}}),t._v(" "),i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-6"},[i("form",{on:{submit:function(e){e.preventDefault(),t.addArtStyle(e)}}},[i("div",{staticClass:"form-group"},[i("label",{attrs:{name:"ArtStyle_title"}},[t._v("Название")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.artStyle.title,expression:"artStyle.title"}],staticClass:"form-control",attrs:{type:"text",id:"artStyle_title",required:""},domProps:{value:t.artStyle.title},on:{input:function(e){e.target.composing||t.$set(t.artStyle,"title",e.target.value)}}})]),t._v(" "),t._m(0)])])])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"form-group"},[e("button",{staticClass:"btn btn-primary"},[this._v("Создать")])])}]},et=i("VU/8")(Y,tt,!1,null,null,null).exports,it=function t(e,i){T()(this,t),this.id=e,this.text=i},st={data:function(){return{question:{information:{text:""}},notifications:[],answers:[],questionDB:[],questionDB_ident:0}},created:function(){this.getQuestionDB()},methods:{getQuestionDB:function(){var t=this;this.$http.get(l.a.api.uri+"rs/questionsGen/"+this.$route.params.topicId).then(function(e){t.questionDB=e.body},function(t){})},incIdent:function(){this.questionDB_ident++,this.getNewQuestion(),this.notifications=[]},removeQuestionGen:function(){var t=this;this.questionDB_ident>0&&this.$http.delete(l.a.api.uri+"rs/questionsGen/"+this.questionDB[this.questionDB_ident-1]._id).then(function(e){t.questionDB.splice(t.questionDB_ident-1,1),t.getNewQuestion()},function(e){t.notifications.push({type:"danger",message:"Не получилось удалить"})})},getNewQuestion:function(){var t=this,e=this.questionDB[this.questionDB_ident-1].answerRight;this.$http.get(l.a.api.uri+"rs/similarArtists?artist="+e).then(function(e){var i=e.body;document.getElementById("question_answer1").value=t.questionDB[t.questionDB_ident-1].answerRight;for(var s=0;s<i.length;s++)document.getElementById("question_answer"+(s+2)).value=i[s].name;t.question.imageUrl=t.questionDB[t.questionDB_ident-1].imageUrl,t.question.information.text=t.questionDB[t.questionDB_ident-1].answerRight+'. "'+t.questionDB[t.questionDB_ident-1].information.text+'"'},function(i){t.clearAnswers(),t.notifications.push({type:"info",message:"Возможно "+e+" нет в базе"})})},addQuestion:function(){var t=this;this.question.topicId=this.$route.params.topicId,this.answers.push(new it(1,document.getElementById("question_answer1").value)),this.answers.push(new it(2,document.getElementById("question_answer2").value)),this.answers.push(new it(3,document.getElementById("question_answer3").value)),this.answers.push(new it(4,document.getElementById("question_answer4").value)),this.question.answers=this.answers,console.log(this.question),this.$http.post("https://api.imgur.com/3/upload",this.question.imageUrl,{headers:{"Content-Type":"application/json",Authorization:"Client-ID d0b4d4481fe626b"}}).then(function(e){t.question.imageUrl=e.body.data.link,t.$http.post(l.a.api.uri+"questions/",t.question,{headers:{"Content-Type":"application/json"}}).then(function(e){t.notifications.push({type:"success",message:"Вопрос успешно создан"}),t.answers=[],t.removeQuestionGen()},function(e){t.notifications.push({type:"danger",message:"Вопрос не создан, что-то пошло не так"})})},function(e){t.notifications.push({type:"info",message:"Не отправил картинку на imgur :-(("})})},clearAnswers:function(){for(var t=1;t<=4;t++)document.getElementById("question_answer"+t).value="";this.question.imageUrl="",this.question.information.text=""}},components:{notification:v}},nt={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"create-question"}},[i("h1",[t._v("Создать вопрос")]),t._v(" "),i("p",[i("router-link",{attrs:{to:{name:"Questions",params:{topicId:this.$route.params.topicId}}}},[t._v("Вернуться к вопросам")])],1),t._v(" "),i("notification",{attrs:{notifications:t.notifications}}),t._v(" "),i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-6"},[i("form",{on:{submit:function(e){e.preventDefault(),t.addQuestion(e)}}},[i("div",{staticClass:"form-group"},[i("label",{attrs:{name:"Question_image"}},[t._v("Картинка")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.question.imageUrl,expression:"question.imageUrl"}],staticClass:"form-control",attrs:{type:"text",id:"question_imageUrl",required:""},domProps:{value:t.question.imageUrl},on:{input:function(e){e.target.composing||t.$set(t.question,"imageUrl",e.target.value)}}})]),t._v(" "),t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),t._m(3),t._v(" "),i("div",{staticClass:"form-group"},[i("label",{attrs:{name:"Information"}},[t._v("Интересный факт")]),t._v(" "),i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.question.information.text,expression:"question.information.text"}],staticClass:"form-control",attrs:{rows:"5",id:"information"},domProps:{value:t.question.information.text},on:{input:function(e){e.target.composing||t.$set(t.question.information,"text",e.target.value)}}})]),t._v(" "),t._m(4)])]),t._v(" "),i("div",{staticClass:"col-md-6"},[i("div",{staticClass:"h"},[i("img",{directives:[{name:"show",rawName:"v-show",value:t.question.imageUrl,expression:"question.imageUrl"}],attrs:{src:t.question.imageUrl,id:"questionDB_ident",alt:""}})]),t._v(" "),i("div",{staticClass:"input-group me"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.questionDB_ident,expression:"questionDB_ident"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.questionDB_ident},on:{change:t.getNewQuestion,input:function(e){e.target.composing||(t.questionDB_ident=e.target.value)}}}),t._v(" "),i("span",{staticClass:"input-group-btn"},[i("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.incIdent}},[t._v("следующий вопрос")]),t._v(" "),i("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:t.removeQuestionGen}},[t._v("удалить")])])]),t._v(" "),i("p",[t._v("Макс: "+t._s(t.questionDB.length))])])])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"form-group"},[e("label",{attrs:{name:"Question_answer1"}},[this._v("Ответ 1 (верный)")]),this._v(" "),e("input",{staticClass:"form-control",attrs:{type:"text",id:"question_answer1",required:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"form-group"},[e("label",{attrs:{name:"Question_answer2"}},[this._v("Ответ 2")]),this._v(" "),e("input",{staticClass:"form-control",attrs:{type:"text",id:"question_answer2",required:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"form-group"},[e("label",{attrs:{name:"Question_answer3"}},[this._v("Ответ 3")]),this._v(" "),e("input",{staticClass:"form-control",attrs:{type:"text",id:"question_answer3",required:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"form-group"},[e("label",{attrs:{name:"Question_answer4"}},[this._v("Ответ 4")]),this._v(" "),e("input",{staticClass:"form-control",attrs:{type:"text",id:"question_answer4",required:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"form-group"},[e("button",{staticClass:"btn btn-primary"},[this._v("Создать")])])}]};var at=i("VU/8")(st,nt,!1,function(t){i("wudA")},"data-v-644fa448",null).exports,ot={data:function(){return{group:{},notifications:[]}},methods:{addGroup:function(){var t=this;this.$http.post(l.a.api.uri+"groups/",this.group,{headers:{"Content-Type":"application/json"}}).then(function(e){t.notifications.push({type:"success",message:"Группа успешно создана"})},function(e){t.notifications.push({type:"danger",message:"Группа не создана"})})}},components:{notification:v}},rt={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"create-group"}},[i("h1",[t._v("Создать группу")]),t._v(" "),i("p",[i("router-link",{attrs:{to:{name:"AllTopics"}}},[t._v("Назад")])],1),t._v(" "),i("notification",{attrs:{notifications:t.notifications}}),t._v(" "),i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-6"},[i("form",{on:{submit:function(e){e.preventDefault(),t.addGroup(e)}}},[i("div",{staticClass:"form-group"},[i("label",{attrs:{name:"group_title"}},[t._v("Название")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.group.title,expression:"group.title"}],staticClass:"form-control",attrs:{type:"text",id:"group_title",required:""},domProps:{value:t.group.title},on:{input:function(e){e.target.composing||t.$set(t.group,"title",e.target.value)}}})]),t._v(" "),t._m(0)])])])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"form-group"},[e("button",{staticClass:"btn btn-primary"},[this._v("Создать")])])}]},ct=i("VU/8")(ot,rt,!1,null,null,null).exports,lt={data:function(){return{group:{},notifications:[]}},created:function(){this.getGroup()},methods:{getGroup:function(){var t=this;this.$http.get(l.a.api.uri+"groups/"+this.$route.params.groupId).then(function(e){t.group=e.body},function(t){})},removeGroup:function(){var t=this;this.$http.delete(l.a.api.uri+"groups/"+this.$route.params.groupId).then(function(e){t.$router.push({name:"AllTopics"})},function(e){t.notifications.push({type:"danger",message:"Что-то пошло не так"})})},editGroup:function(){var t=this;this.$http.patch(l.a.api.uri+"groups/"+this.$route.params.groupId,this.group,{headers:{"Content-Type":"application/json"}}).then(function(e){t.$router.push({name:"AllTopics"})},function(e){t.notifications.push({type:"danger",message:"Что-то пошло не так"})})}},components:{notification:v}},ut={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"update-group"}},[i("h1",[t._v("Редактировать группу")]),t._v(" "),i("p",[i("router-link",{attrs:{to:{name:"AllTopics"}}},[t._v("Назад")])],1),t._v(" "),i("notification",{attrs:{notifications:t.notifications}}),t._v(" "),i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-6"},[i("form",{on:{submit:function(e){e.preventDefault(),t.editGroup(e)}}},[i("div",{staticClass:"form-group"},[i("label",{attrs:{name:"group_id"}},[t._v("ID")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.group._id,expression:"group._id"}],staticClass:"form-control",attrs:{type:"text",disabled:"",id:"group_id"},domProps:{value:t.group._id},on:{input:function(e){e.target.composing||t.$set(t.group,"_id",e.target.value)}}})]),t._v(" "),i("div",{staticClass:"form-group"},[i("label",{attrs:{name:"group_title"}},[t._v("Название")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.group.title,expression:"group.title"}],staticClass:"form-control",attrs:{type:"text",id:"group_title",required:""},domProps:{value:t.group.title},on:{input:function(e){e.target.composing||t.$set(t.group,"title",e.target.value)}}})]),t._v(" "),t._m(0)]),t._v(" "),i("button",{staticClass:"btn btn-danger",staticStyle:{float:"right"},on:{click:t.removeGroup}},[t._v("Удалить группу")])])])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"form-group"},[e("button",{staticClass:"btn btn-primary"},[this._v("Сохранить")])])}]},pt=i("VU/8")(lt,ut,!1,null,null,null).exports,dt={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"modal"}},[i("div",{staticClass:"modal-mask"},[i("div",{staticClass:"modal-wrapper"},[i("div",{staticClass:"modal-container"},[i("div",{staticClass:"modal-header"},[t._t("header",[t._v("\n            default header\n          ")])],2),t._v(" "),i("div",{staticClass:"modal-body"},[t._t("body",[t._v("\n            default body\n          ")])],2),t._v(" "),i("div",{staticClass:"modal-footer"},[t._t("footer",[t._v("\n            default footer\n            ")])],2)])])])])},staticRenderFns:[]};var mt=i("VU/8")({data:function(){return{}}},dt,!1,function(t){i("i2Ik")},null,null).exports,vt={data:function(){return{recSystem:{},recValues:[],selectedValues:[],recValue:{criterionValues:[]},criterions:[{criterionValues:[]}],optionValues:[[]],showModal:!1,showModal2:!1}},created:function(){this.fetchRecSystemData()},methods:{fetchRecSystemData:function(){var t=this;this.$http.get(l.a.api.uri+"rs/topics/"+this.$route.params.topicId+"/recSystem").then(function(e){t.recSystem=e.body,t.fetchCriterions()},function(e){t.showModal=!0})},fetchCriterions:function(){var t=this;this.$http.get(l.a.api.uri+"rs/recSystems/"+this.recSystem._id+"/criterions").then(function(e){t.criterions=e.body;for(var i=0;i<t.criterions.length;i++)if(t.optionValues[i]=[],0!==t.criterions[i].criterionValues.length)for(var s=0;s<t.criterions[i].criterionValues.length;s++)t.optionValues[i][s]=t.criterions[i].criterionValues[s].text;t.fetchRecValues()},function(t){console.log(t.body)})},fetchRecValues:function(){var t=this;this.$http.get(l.a.api.uri+"rs/recSystems/"+this.recSystem._id+"/recValues").then(function(e){console.log(e.body),t.recValues=e.body},function(t){console.log(t.body)})},saveRecSystem:function(){var t=this;this.recSystem.topicId=this.$route.params.topicId,this.$http.post(l.a.api.uri+"rs/recSystems/",this.recSystem,{headers:{"Content-Type":"application/json"}}).then(function(e){t.showModal=!1},function(t){})},saveRecValue:function(){var t=this;this.recValue.recSystemId=this.recSystem._id;for(var e=0;e<this.selectedValues.length;e++){var i=this.selectedValues[e];"string"!=typeof i&&(i=i.join(",")),this.recValue.criterionValues.push({criterionId:this.criterions[e].id,value:i})}this.recValue._id?this.$http.patch(l.a.api.uri+"rs/recValues/"+this.recValue._id,this.recValue,{headers:{"Content-Type":"application/json"}}).then(function(e){t.fetchRecValues(),t.modalClose2()},function(t){}):this.$http.post(l.a.api.uri+"rs/recValues/",this.recValue,{headers:{"Content-Type":"application/json"}}).then(function(e){t.recValues.push(e.body),t.modalClose2()},function(t){})},modalClose2:function(){this.cleanFilds(),this.showModal2=!1},cleanFilds:function(){this.recValue={criterionValues:[]},this.selectedValues=[]},removeRecValue:function(t){var e=this;confirm("Вы действительно хотите удалить значение "+t.answerRight)&&this.$http.delete(l.a.api.uri+"rs/recValues/"+t._id,{headers:{"Content-Type":"application/json"}}).then(function(i){for(var s=0;s<e.recValues.length;s++)if(e.recValues[s]._id===t._id)return void e.recValues.splice(s,1)},function(t){})},editRecValue:function(t){this.showModal2=!0,this.recValue._id=t._id,this.recValue.answerRight=t.answerRight;for(var e=0;e<t.criterionValues.length;e++){this.selectedValues[e]=[];var i=t.criterionValues[e].value;i.split(",").length>1&&(i=i.split(",")),this.selectedValues[e]=i}}},components:{modal:mt,Multiselect:f.a}},ht={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"rec-system"}},[i("h1",[t._v(t._s(t.recSystem.title))]),t._v(" "),i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-6"},[i("button",{staticClass:"btn btn-success ",on:{click:function(e){t.showModal2=!0}}},[t._v("Добавить")])]),t._v(" "),i("div",{staticClass:"col-md-6"},[i("p",{staticClass:"text-right"},[i("router-link",{staticClass:"btn btn-primary",attrs:{to:{name:"Criterions",params:{recSystemId:this.recSystem._id}}}},[t._v("Критерии")])],1)])]),t._v(" "),i("div",{staticClass:"form-group"}),t._v(" "),i("table",{staticClass:"table table-hover"},[i("thead",[i("tr",[i("td",[t._v("#")]),t._v(" "),i("td",[t._v("Ответ")]),t._v(" "),t._l(t.criterions,function(e){return i("td",{key:e.id},[t._v("\n      "+t._s(e.title)+"\n      ")])})],2)]),t._v(" "),i("tbody",t._l(t.recValues,function(e,s){return i("tr",{key:e._id},[i("td",[t._v(t._s(s+1))]),t._v(" "),i("td",[t._v(t._s(e.answerRight))]),t._v(" "),t._l(e.criterionValues,function(e){return i("td",{key:e.id},[t._v("\n        "+t._s(e.value)+"\n        ")])}),t._v(" "),i("td",{staticStyle:{"text-align":"right"}},[i("button",{staticClass:"btn btn-primary",on:{click:function(i){t.editRecValue(e)}}},[t._v("Редактировать")]),t._v(" "),i("button",{staticClass:"btn btn-danger",on:{click:function(i){t.removeRecValue(e)}}},[t._v("Удалить")])])],2)}))]),t._v(" "),t.showModal?i("modal",{on:{close:function(e){t.showModal=!1}}},[i("h3",{attrs:{slot:"header"},slot:"header"},[t._v("Добавить рекомендательную систему")]),t._v(" "),i("form",{attrs:{slot:"body"},on:{submit:function(e){e.preventDefault(),t.saveRecSystem(e)}},slot:"body"},[i("div",{staticClass:"form-group"},[i("label",{attrs:{name:"recSystem_title"}},[t._v("Название")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.recSystem.title,expression:"recSystem.title"}],staticClass:"form-control",attrs:{type:"text",id:"recSystem_title",required:""},domProps:{value:t.recSystem.title},on:{input:function(e){e.target.composing||t.$set(t.recSystem,"title",e.target.value)}}})]),t._v(" "),i("div",{staticClass:"form-group"},[i("button",{staticClass:"btn btn-primary pull-right"},[t._v("Добавить")])])]),t._v(" "),i("p",{attrs:{slot:"footer"},slot:"footer"})]):t._e(),t._v(" "),t.showModal2?i("modal",{on:{close:function(e){t.showModal2=!1}}},[i("div",{staticClass:"form-group",attrs:{slot:"header"},slot:"header"},[i("button",{staticClass:"btn btn-danger pull-right",on:{click:t.modalClose2}},[t._v("X")]),t._v(" "),i("h3",[t._v("Добавить/редактировать значение")])]),t._v(" "),i("form",{attrs:{slot:"body"},on:{submit:function(e){e.preventDefault(),t.saveRecValue(e)}},slot:"body"},[i("div",{staticClass:"form-group"},[i("label",{attrs:{name:"criterion_title"}},[t._v("Ответ")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.recValue.answerRight,expression:"recValue.answerRight"}],staticClass:"form-control",attrs:{type:"text",id:"criterion_title",required:""},domProps:{value:t.recValue.answerRight},on:{input:function(e){e.target.composing||t.$set(t.recValue,"answerRight",e.target.value)}}})]),t._v(" "),t._l(t.criterions,function(e,s){return i("div",{key:e.id,staticClass:"form-group"},[i("div",[i("label",{attrs:{name:"criterion_title"}},[t._v(t._s(e.title))]),t._v(" "),0==t.optionValues[s].length&&"Число"===e.type?i("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedValues[s],expression:"selectedValues[index]"}],staticClass:"form-control",attrs:{type:"number",required:""},domProps:{value:t.selectedValues[s]},on:{input:function(e){e.target.composing||t.$set(t.selectedValues,s,e.target.value)}}}):0==t.optionValues[s].length?i("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedValues[s],expression:"selectedValues[index]"}],staticClass:"form-control",attrs:{type:"text",required:""},domProps:{value:t.selectedValues[s]},on:{input:function(e){e.target.composing||t.$set(t.selectedValues,s,e.target.value)}}}):i("multiselect",{attrs:{options:t.optionValues[s],multiple:!0,searchable:!0,"close-on-select":!1,placeholder:"Значение критерия","allow-empty":!1},model:{value:t.selectedValues[s],callback:function(e){t.$set(t.selectedValues,s,e)},expression:"selectedValues[index]"}})],1)])}),t._v(" "),i("div",{staticClass:"form-group"},[i("button",{staticClass:"btn btn-primary pull-right",attrs:{type:"submit"}},[t._v("Сохранить")])])],2),t._v(" "),i("p",{attrs:{slot:"footer"},slot:"footer"})]):t._e()],1)},staticRenderFns:[]};var ft=i("VU/8")(vt,ht,!1,function(t){i("etyu"),i("7dbS")},"data-v-c88ac6c0",null).exports,_t={data:function(){return{criterions:[],criterion:{type:"Строка"},criterionValue:{},showModal:!1,showModal2:!1,options:["Строка","Число"]}},created:function(){this.fetchCriterions()},methods:{fetchCriterions:function(){var t=this;this.$http.get(l.a.api.uri+"rs/recSystems/"+this.$route.params.recSystemId+"/criterions").then(function(e){console.log(e.body),t.criterions=e.body},function(t){console.log(t.body)})},saveCriterion:function(){var t=this;this.criterion.recSystemId=this.$route.params.recSystemId,this.criterion._id?this.$http.patch(l.a.api.uri+"rs/criterions/"+this.criterion._id,this.criterion,{headers:{"Content-Type":"application/json"}}).then(function(e){t.criterion={},t.showModal=!1},function(t){}):this.$http.post(l.a.api.uri+"rs/criterions/",this.criterion,{headers:{"Content-Type":"application/json"}}).then(function(e){t.criterions.push(t.criterion),t.criterion={},t.showModal=!1},function(t){})},removeCriterion:function(t){var e=this;confirm("Вы действительно хотите удалить критерий "+t.title+"?")&&this.$http.delete(l.a.api.uri+"rs/criterions/"+t._id,{headers:{"Content-Type":"application/json"}}).then(function(i){for(var s=0;s<e.criterions.length;s++)if(e.criterions[s]._id===t._id)return void e.criterions.splice(s,1)},function(t){})},editCriterion:function(t){this.criterion=t,this.showModal=!0},editCriterionValue:function(t){this.criterionValue=t,this.showModal2=!0},removeCriterionValue:function(t,e){this.$http.delete(l.a.api.uri+"rs/criterionValues/"+e._id,{headers:{"Content-Type":"application/json"}}).then(function(i){for(var s=0;s<t.criterionValues.length;s++)if(t.criterionValues[s]._id===e._id)return void t.criterionValues.splice(s,1)},function(t){})},modalClose:function(){this.showModal=!1,this.criterion._id&&(this.criterion={})},modalClose2:function(){this.showModal2=!1,this.criterionValue={}},addCriterionValue:function(t){this.showModal2=!0,this.criterionValue.criterionId=t},saveCriterionValue:function(){var t=this;this.criterionValue._id?this.$http.patch(l.a.api.uri+"rs/criterionValues/"+this.criterionValue._id,this.criterionValue,{headers:{"Content-Type":"application/json"}}).then(function(e){t.criterionValue={},t.showModal2=!1},function(t){}):(console.log(this.criterionValue),this.$http.post(l.a.api.uri+"rs/criterionValues/",this.criterionValue,{headers:{"Content-Type":"application/json"}}).then(function(e){for(var i=0;i<t.criterions.length;i++)if(t.criterions[i]._id===t.criterionValue.criterionId){t.criterions[i].criterionValues.push(e.body);break}t.criterionValue.text=""},function(t){}))}},components:{modal:mt,Multiselect:f.a},computed:{isDisabled:function(){return!("Число"===this.criterion.type)}}},gt={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"criterions"}},[i("h1",[t._v("Критерии")]),t._v(" "),i("div",{staticClass:"row"},[i("button",{staticClass:"btn btn-primary pull-right",attrs:{id:"show-modal"},on:{click:function(e){t.showModal=!0}}},[t._v("Создать новый критерий")])]),t._v(" "),t._l(t.criterions,function(e){return i("div",{key:e._id},[i("h3",[t._v(t._s(e.title)+"\n      "),i("a",{staticClass:"btn",on:{click:function(i){t.editCriterion(e)}}},[t._v("Редактировать")]),t._v(" "),i("a",{staticClass:"btn",on:{click:function(i){t.removeCriterion(e)}}},[t._v("Удалить")])]),t._v(" "),i("table",{staticClass:"table table-hover"},[i("thead",[i("tr",[i("td",[t._v("#")]),t._v(" "),i("td",[t._v("Значение")]),t._v(" "),i("td",{staticStyle:{"text-align":"right"}},[i("button",{staticClass:"btn btn-success",on:{click:function(i){t.addCriterionValue(e._id)}}},[t._v("Добавить")])])])]),t._v(" "),i("tbody",t._l(e.criterionValues,function(s,n){return i("tr",{key:s._id},[i("td",[t._v(t._s(n+1))]),t._v(" "),i("td",[t._v(t._s(s.text))]),t._v(" "),i("td",{staticStyle:{"text-align":"right"}},[i("button",{staticClass:"btn btn-primary",on:{click:function(e){t.editCriterionValue(s)}}},[t._v("Редактировать")]),t._v(" "),i("button",{staticClass:"btn btn-danger",on:{click:function(i){t.removeCriterionValue(e,s)}}},[t._v("Удалить")])])])}))])])}),t._v(" "),t.showModal?i("modal",{on:{close:function(e){t.showModal=!1}}},[i("div",{staticClass:"form-group",attrs:{slot:"header"},slot:"header"},[i("button",{staticClass:"btn btn-danger pull-right",on:{click:t.modalClose}},[t._v("X")]),t._v(" "),i("h3",[t._v("Добавить/редактировать критерий")])]),t._v(" "),i("form",{attrs:{slot:"body"},on:{submit:function(e){e.preventDefault(),t.saveCriterion(e)}},slot:"body"},[i("div",{staticClass:"form-group"},[i("label",{attrs:{name:"criterion_title"}},[t._v("Название")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.criterion.title,expression:"criterion.title"}],staticClass:"form-control",attrs:{type:"text",id:"criterion_title",required:""},domProps:{value:t.criterion.title},on:{input:function(e){e.target.composing||t.$set(t.criterion,"title",e.target.value)}}})]),t._v(" "),i("div",{staticClass:"form-group"},[i("div",[i("multiselect",{attrs:{options:t.options,multiple:!1,"close-on-select":!0,placeholder:"Выберите тип"},model:{value:t.criterion.type,callback:function(e){t.$set(t.criterion,"type",e)},expression:"criterion.type"}})],1)]),t._v(" "),i("div",{staticClass:"form-group"},[i("label",{attrs:{name:"criterion_interval"}},[t._v("Интервал")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.criterion.interval,expression:"criterion.interval"}],staticClass:"form-control",attrs:{type:"number",id:"criterion_interval",disabled:t.isDisabled,required:""},domProps:{value:t.criterion.interval},on:{input:function(e){e.target.composing||t.$set(t.criterion,"interval",e.target.value)}}})]),t._v(" "),i("div",{staticClass:"form-group"},[i("button",{staticClass:"btn btn-primary pull-right",attrs:{type:"submit"}},[t._v("Сохранить")])])]),t._v(" "),i("p",{attrs:{slot:"footer"},slot:"footer"})]):t._e(),t._v(" "),t.showModal2?i("modal",{on:{close:function(e){t.showModal2=!1}}},[i("div",{staticClass:"form-group",attrs:{slot:"header"},slot:"header"},[i("button",{staticClass:"btn btn-danger pull-right",on:{click:t.modalClose2}},[t._v("X")]),t._v(" "),i("h3",[t._v("Добавление/редактирование значения")])]),t._v(" "),i("form",{attrs:{slot:"body"},on:{submit:function(e){e.preventDefault(),t.saveCriterionValue(e)}},slot:"body"},[i("div",{staticClass:"form-group"},[i("label",{attrs:{name:"criterion_title"}},[t._v("Значение")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.criterionValue.text,expression:"criterionValue.text"}],staticClass:"form-control",attrs:{type:"text",id:"criterion_title",required:""},domProps:{value:t.criterionValue.text},on:{input:function(e){e.target.composing||t.$set(t.criterionValue,"text",e.target.value)}}})]),t._v(" "),i("div",{staticClass:"form-group"},[i("button",{staticClass:"btn btn-primary pull-right",attrs:{type:"submit"}},[t._v("Сохранить")])])]),t._v(" "),i("p",{attrs:{slot:"footer"},slot:"footer"})]):t._e()],2)},staticRenderFns:[]};var bt=i("VU/8")(_t,gt,!1,function(t){i("kffb")},null,null).exports,Ct={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"callback"})},staticRenderFns:[]};var yt=i("VU/8")({name:"callback",mounted:function(){var t=this;this.$auth.handleAuthentication().then(function(e){t.$router.push({name:"AllTopics"})})}},Ct,!1,function(t){i("q628")},"data-v-89e5bd32",null).exports;s.a.use(o.a),s.a.use(r.a);var wt=new o.a({mode:"history",props:!0,routes:[{path:"/",name:"AllTopics",component:d},{path:"/create_topic",name:"CreateTopic",component:b},{path:"/:topicId/delete_topic",name:"DeleteTopic",component:w},{path:"/:topicId/edit_topic",name:"EditTopic",component:x},{path:"/:topicId/questions",name:"Questions",component:k},{path:"/:topicId/create_questions",name:"CreateQuestion",component:E},{path:"/:topicId/:questionId/edit_questions",name:"EditQuestion",component:N},{path:"/:topicId/:questionId/delete_questions",name:"DeleteQuestion",component:P},{path:"/rs/artists",name:"Artists",component:G},{path:"/rs/:artistId/edit_artist",name:"EditArtist",component:z},{path:"/rs/create_artist",name:"CreateArtist",component:X},{path:"/rs/:artistId/delete_artist",name:"DeleteArtist",component:K},{path:"/rs/create_artstyle",name:"CreateArtStyle",component:et},{path:"/rs/:topicId/gen_question",name:"GenerateQuestion",component:at},{path:"/create_group",name:"CreateGroup",component:ct},{path:"/:groupId/edit_group",name:"EditGroup",component:pt},{path:"/topics/:topicId/rs2",name:"RecSystem",component:ft},{path:"/rs2/:recSystemId/criterions",name:"Criterions",component:bt},{path:"/callback",name:"callback",component:yt}]});wt.beforeEach(function(t,e,i){"callback"===t.name?i():wt.app.$auth.isAuthenticated()?i():wt.app.$auth.login()});var qt=wt,$t=i("//Fk"),xt=i.n($t),Vt=i("mvHQ"),It=i.n(Vt),kt=i("2fyi"),St=new(i.n(kt).a.WebAuth)({domain:"crocodileco.auth0.com",clientID:"nbRY9490c82brEw7b3M31v4PUTKdUZrV",redirectUri:"http://localhost:8080/callback",audience:"https://crocodileco.auth0.com/api/v2/",responseType:"token id_token",scope:"openid profile"}),Tt=new s.a({computed:{token:{get:function(){return localStorage.getItem("id_token")},set:function(t){localStorage.setItem("id_token",t)}},accessToken:{get:function(){return localStorage.getItem("access_token")},set:function(t){localStorage.setItem("access_token",t)}},expiresAt:{get:function(){return localStorage.getItem("expires_at")},set:function(t){var e=It()(1e3*t+(new Date).getTime());localStorage.setItem("expires_at",e)}},user:{get:function(){return JSON.parse(localStorage.getItem("user"))},set:function(t){localStorage.setItem("user",It()(t))}}},methods:{login:function(){St.authorize()},logout:function(){return new xt.a(function(t,e){localStorage.removeItem("access_token"),localStorage.removeItem("id_token"),localStorage.removeItem("expires_at"),localStorage.removeItem("user"),St.authorize()})},isAuthenticated:function(){return(new Date).getTime()<this.expiresAt},handleAuthentication:function(){var t=this;return new xt.a(function(e,i){St.parseHash(function(s,n){n&&n.accessToken&&n.idToken?(t.expiresAt=n.expiresIn,t.accessToken=n.accessToken,t.token=n.idToken,t.user=n.idTokenPayload,e()):s&&(t.logout(),i(s))})})}}}),Ut={install:function(t){t.prototype.$auth=Tt}};s.a.use(Ut),s.a.config.productionTip=!1,new s.a({el:"#app",router:qt,components:{App:a},template:"<App/>"})},"TpQ+":function(t,e){},VFio:function(t,e){},Vasw:function(t,e){},VrN5:function(t,e){},etyu:function(t,e){},i2Ik:function(t,e){},kffb:function(t,e){},q628:function(t,e){},qu8Z:function(t,e){},"tA/9":function(t,e){},wudA:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.9b9ee4efb5c6501be8fe.js.map